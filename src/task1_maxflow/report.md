# –ó–∞–≤–¥–∞–Ω–Ω—è 1 ‚Äî –ó–≤—ñ—Ç (Max Flow, Edmonds‚ÄìKarp)

## üìå –£–º–æ–≤–∞ –∑–∞–≤–¥–∞–Ω–Ω—è

–ü–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ–±—É–¥—É–≤–∞—Ç–∏ –æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–∏–π –≥—Ä–∞—Ñ, —â–æ –º–æ–¥–µ–ª—é—î –ø—Ä–æ—Ü–µ—Å –ø–æ—Å—Ç–∞—á–∞–Ω–Ω—è —Ç–æ–≤–∞—Ä—É –∑ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ–≤ —á–µ—Ä–µ–∑ —Å–∫–ª–∞–¥–∏ –¥–æ –º–∞–≥–∞–∑–∏–Ω—ñ–≤.

–ì—Ä–∞—Ñ –≤–∫–ª—é—á–∞—î:
- 2 —Ç–µ—Ä–º—ñ–Ω–∞–ª–∏: T1, T2
- 4 —Å–∫–ª–∞–¥–∏: W1, W2, W3, W4
- 14 –º–∞–≥–∞–∑–∏–Ω—ñ–≤: S1, ..., S14

–ü–æ—Ç—Ä—ñ–±–Ω–æ:
- –ü–æ–±—É–¥—É–≤–∞—Ç–∏ –≥—Ä–∞—Ñ —ñ–∑ –∑–∞–∑–Ω–∞—á–µ–Ω–∏–º–∏ —î–º–Ω–æ—Å—Ç—è–º–∏ —Ä–µ–±–µ—Ä
- –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≤–ª–∞—Å–Ω–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º **Edmonds‚ÄìKarp**
- –ó–Ω–∞–π—Ç–∏ **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π –ø–æ—Ç—ñ–∫** –∑ –¥–∂–µ—Ä–µ–ª–∞ –¥–æ —Å—Ç–æ–∫—É (SRC ‚Üí SNK)
- –í–∏–∫–æ–Ω–∞—Ç–∏ **–¥–µ–∫–æ–º–ø–æ–∑–∏—Ü—ñ—é** –ø–æ—Ç–æ–∫—É –≤ —Ç–∞–±–ª–∏—Ü—é `Terminal ‚Üí Shop ‚Üí Flow`
- –ó–±–µ—Ä–µ–≥—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É CSV `data/terminal_shop_flow.csv`
- –ù–∞–¥–∞—Ç–∏ –∫–æ—Ä–æ—Ç–∫–∏–π –∑–≤—ñ—Ç –∑ –≤—ñ–¥–ø–æ–≤—ñ–¥—è–º–∏ –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è

---

## üß† –ü–æ–±—É–¥–æ–≤–∞ –≥—Ä–∞—Ñ–∞

–ì—Ä–∞—Ñ –ø–æ–±—É–¥–æ–≤–∞–Ω–æ —Ç–∞–∫:
- `SRC ‚Üí T1` ‚Äî 80 –æ–¥–∏–Ω–∏—Ü—å (–ø–æ–∫—Ä–∏–≤–∞—î W1+W2)
- `SRC ‚Üí T2` ‚Äî 60 –æ–¥–∏–Ω–∏—Ü—å (–ø–æ–∫—Ä–∏–≤–∞—î W3+W4)
- `T1 ‚Üí W1` ‚Äî 40, `T1 ‚Üí W2` ‚Äî 39
- `T2 ‚Üí W3` ‚Äî 25, `T2 ‚Üí W4` ‚Äî 30
- –°–∫–ª–∞–¥–∏ —Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω—ñ –ø–æ –º–∞–≥–∞–∑–∏–Ω–∞—Ö —Ç–∞–∫, —â–æ–± —Å—É–º–∞—Ä–Ω—ñ –≤–∏—Ö–æ–¥–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª–∏ –ø–æ–ø–∏—Ç—É –º–∞–≥–∞–∑–∏–Ω—ñ–≤
- `Shop ‚Üí SNK` ‚Äî —î–º–Ω–æ—Å—Ç—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å –ø–æ–ø–∏—Ç—É –∫–æ–∂–Ω–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω—É

### üìà –°—É–º–∞ –ø–æ–ø–∏—Ç—ñ–≤ –º–∞–≥–∞–∑–∏–Ω—ñ–≤:
```
S1: 10, S2: 8, S3: 7, S4: 9
S5: 6, S6: 7, S7: 8, S8: 9
S9: 6, S10: 8, S11: 9, S12: 6, S13: 8, S14: 14
‚Üí –†–∞–∑–æ–º: 115
```

---

## üßÆ –†–µ–∑—É–ª—å—Ç–∞—Ç–∏

### üî¢ –Ø–∫–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–æ–≤–∞—Ä—É –ø–æ—Ç—Ä–∞–ø–ª—è—î –¥–æ –º–∞–≥–∞–∑–∏–Ω—ñ–≤?
> **115 –æ–¥–∏–Ω–∏—Ü—å** ‚Äî –¥–æ—Ä—ñ–≤–Ω—é—î —Å—É–º—ñ –ø–æ–ø–∏—Ç—É –º–∞–≥–∞–∑–∏–Ω—ñ–≤, —Ç–æ–±—Ç–æ –≤—Å—ñ –ø–æ—Ç—Ä–µ–±–∏ –∑–∞–¥–æ–≤–æ–ª–µ–Ω—ñ –ø–æ–≤–Ω—ñ—Å—Ç—é.

### üè¨ –Ø–∫–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –º–∞–≥–∞–∑–∏–Ω—ñ–≤ –ø–æ–≤–Ω—ñ—Å—Ç—é –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–∞ —Ç–æ–≤–∞—Ä–æ–º?
> **14 –º–∞–≥–∞–∑–∏–Ω—ñ–≤ —ñ–∑ 14** ‚Äî –∫–æ–∂–µ–Ω –º–∞–≥–∞–∑–∏–Ω –æ—Ç—Ä–∏–º—É—î —Ä—ñ–≤–Ω–æ —Å—Ç—ñ–ª—å–∫–∏, —Å–∫—ñ–ª—å–∫–∏ –≤–∏–º–∞–≥–∞—î –ø–æ–ø–∏—Ç.

### üîÅ –ó —è–∫–∏–º–∏ —Ç–µ—Ä–º—ñ–Ω–∞–ª–∞–º–∏ –≤–æ–Ω–∏ –ø–æ–≤‚Äô—è–∑–∞–Ω—ñ?
–£ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü—ñ—ó –ø–æ—Ç–æ–∫—É –æ—Ç—Ä–∏–º–∞–Ω–æ —Ç–∞–∫—ñ –∑–≤‚Äô—è–∑–∫–∏ `Terminal ‚Üí Shop`:

- **T1** ‚Üí S1, S2, S3, S4, S5, S6, S7, S8, S11
- **T2** ‚Üí S9, S10, S12, S13, S14

–£—Å—ñ –ø–æ—Ç–æ–∫–∏ —Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ —Å–∫–ª–∞–¥—ñ–≤:
- W1, W2 –≤—ñ–¥ —Ç–µ—Ä–º—ñ–Ω–∞–ª—É T1
- W3, W4 –≤—ñ–¥ —Ç–µ—Ä–º—ñ–Ω–∞–ª—É T2

---

## üì§ –§–æ—Ä–º–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É

–£—Å—ñ –∑–≤‚Äô—è–∑–∫–∏ `Terminal‚ÄìShop‚ÄìFlow` –∑–±–µ—Ä–µ–∂–µ–Ω–æ —É CSV:
```
data/terminal_shop_flow.csv
```
–§–æ—Ä–º–∞—Ç —Ç–∞–±–ª–∏—Ü—ñ:
```
Terminal, Shop, Flow
T1, S1, 10
T1, S2, 8
...
```

---

## ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

- –ó–∞–ø—É—Å–∫:  
  ```bash
  python main.py task1
  ```
  –í–∏–≤–æ–¥–∏—Ç—å: `Max flow: 115`, —Å—É–º—É –ø–æ –º–∞–≥–∞–∑–∏–Ω–∞—Ö, —Ä–æ–∑–ø–æ–¥—ñ–ª –ø–æ —Ç–µ—Ä–º—ñ–Ω–∞–ª–∞—Ö, –ø—Ä–∏–∫–ª–∞–¥–∏ —Ä—è–¥–∫—ñ–≤ CSV

- –¢–µ—Å—Ç:  
  ```bash
  pytest -q tests/test_task1_maxflow.py
  ```
  –ü–µ—Ä–µ–≤—ñ—Ä—è—î:
  - –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ—Ç–æ–∫—É (`== 115`)
  - —â–æ –≤—Å—ñ 14 –º–∞–≥–∞–∑–∏–Ω—ñ–≤ –ø—Ä–∏—Å—É—Ç–Ω—ñ —É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ
  - —â–æ CSV –º—ñ—Å—Ç–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ñ –∫–æ–ª–æ–Ω–∫–∏ —Ç–∞ —Å—É–º—É `Flow == 115`

---

## ‚öôÔ∏è –¢–µ—Ö–Ω—ñ—á–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è

### üîÅ –ê–ª–≥–æ—Ä–∏—Ç–º:
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ –∞–ª–≥–æ—Ä–∏—Ç–º **Edmonds‚ÄìKarp** ‚Äî –≤–∞—Ä—ñ–∞–Ω—Ç –∞–ª–≥–æ—Ä–∏—Ç–º—É –§–æ—Ä–¥–∞-–§–∞–ª–∫–µ—Ä—Å–æ–Ω–∞ –∑ BFS
- –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –≤–ª–∞—Å–Ω–æ—Ä—É—á
- –ü–æ–±—É–¥–æ–≤–∞–Ω–æ –∑–∞–ª–∏—à–∫–æ–≤—É –º–µ—Ä–µ–∂—É, –ø–æ—à—É–∫ —à–ª—è—Ö—É BFS, –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–æ—Ç–æ–∫—É

### üß© –î–µ–∫–æ–º–ø–æ–∑–∏—Ü—ñ—è –ø–æ—Ç–æ–∫—É:
- –ó—á–∏—Ç—É—î—Ç—å—Å—è –ø–æ—Ç—ñ–∫ `W ‚Üí S` –∑ –º–∞—Ç—Ä–∏—Ü—ñ
- –°–∫–ª–∞–¥ (W) –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –Ω–∞ —Ç–µ—Ä–º—ñ–Ω–∞–ª (T) –∑–∞ —Ñ—ñ–∫—Å–æ–≤–∞–Ω–æ—é —Å—Ö–µ–º–æ—é
- –û—Ç—Ä–∏–º—É—î–º–æ `Terminal ‚Üí Shop ‚Üí Flow`

### üìÇ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è CSV:
- CSV –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —É `data/`
- –ö–æ–¥: `src/common/io_utils.py`

---

## üßÆ –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º—É

- **Edmonds‚ÄìKarp**: `O(V * E^2)`
- –£ –Ω–∞—à–æ–º—É –≥—Ä–∞—Ñ—ñ: V ‚âà 22, E ‚âà 40 ‚Üí –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –¥—É–∂–µ —à–≤–∏–¥–∫–æ

---

## üßæ –í–∏—Å–Ω–æ–≤–æ–∫

–ì—Ä–∞—Ñ —Å–∫–æ–Ω—Å—Ç—Ä—É–π–æ–≤–∞–Ω–æ —Ç–∞–∫, —â–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π –ø–æ—Ç—ñ–∫ –¥–æ—Ä—ñ–≤–Ω—é—î —Å—É–º—ñ –ø–æ–ø–∏—Ç—É –º–∞–≥–∞–∑–∏–Ω—ñ–≤ (**115 –æ–¥–∏–Ω–∏—Ü—å**), —â–æ —î –æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º.

–ö–æ–∂–µ–Ω –º–∞–≥–∞–∑–∏–Ω –ø–æ–≤–Ω—ñ—Å—Ç—é –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–æ —Ç–æ–≤–∞—Ä–æ–º. –†–æ–∑–ø–æ–¥—ñ–ª –ø–æ—Ç–æ–∫—É –º—ñ–∂ —Ç–µ—Ä–º—ñ–Ω–∞–ª–∞–º–∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤–∞–Ω–æ –≤ —Ç–∞–±–ª–∏—Ü—ñ. –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –∑–≥—ñ–¥–Ω–æ –∑ –≤–∏–º–æ–≥–∞–º–∏, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ –≤—Ä—É—á–Ω—É —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏.